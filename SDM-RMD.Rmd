---
title: "SDM II Project"
output: pdf_document
date: "2023-04-26"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}

#Loading Necessary Libraries

library(xts)
library(readr)
library(viridis)

library(ggplot2)
library(plotly)
library(viridis)
library(reshape2)
library(zoo)
library(Quandl)
library(dygraphs)
library(shiny)
library(tidyverse)
```

## Change In Volatility Over Time

| Financial risk has many faces, and we measure it in many ways, but for now, let's agree that it is a measure of the possible loss on an investment. In financial markets, where we measure prices frequently, volatility (which is analogous to *standard deviation*) is an obvious choice to measure risk. But in real markets, volatility changes with the market itself.
| 
| 

![Returns Of Four Different Assets](T-Bonds.png)

| 

The image presented depicts the returns of four distinct assets, each displaying a pattern of alternating periods of high and low volatilities. Notably, the greatest volatility occurred near the conclusion of 2008, which coincided with the most severe stage of the recent financial crisis.


```{r}

# Testing Quandl API

data <- Quandl("FED/SVENY")


```

## Daily Estimates in 2022

```{r}
data
```


```{r}

data_2022 <- data %>% 
  filter(Date > '2022-01-01' & Date < '2022-12-31')



```

```{r}

data_2022
```


```{r}
dfasxts <- as.xts(x = data[, -1], order.by = data$Date)
data_2022 <- as.xts(x = data_2022[, -1], order.by = data_2022$Date)
dygraph(data_2022, main = "All Zero Coupon Yields (All Time Horizons) 2022", 
        ylab = "Value") %>%
            dyAxis('x', axisLabelFontSize = 12) %>%
            dyRangeSelector()
```

## Testing Shiny Board

```{r}

data$Date <- as.Date(data$Date)
data$year <- format(as.Date(data$Date, format="%m/%d/%Y"),"%Y")
data <- select(data, -Date)
df <- na.omit(df)

data <- data %>%
  group_by(year) %>%
  summarise_all(mean)

```


```{r}

SVENY01 <- data$SVENY01
SVENY10 <- data$SVENY10
SVENY30 <- data$SVENY30


plot_data <- data.frame(data, SVENY01, SVENY10, SVENY30)
plot_data <- select(plot_data, year, SVENY01, SVENY10, SVENY30)





```

```{r}
fig <- plot_ly(plot_data, x = plot_data$year, y = ~SVENY01, name = 'SVENY01', 
               type = 'scatter', mode = 'lines + markers') 
fig <- fig %>% add_trace(y = ~SVENY10, name = 'SVENY10', mode = 'lines + markers') 
fig <- fig %>% add_trace(y = ~SVENY30, name = 'SVENY30', mode = 'lines + markers')
fig <- fig %>% layout(title = "",
         xaxis = list(title = "year"),
         yaxis = list (title = ""))


fig
```



